;/*FB_PKG_DELIM*/

__d("LSDeleteMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0]]]]),function(c){return c.messageId===a[1]&&b.i64.eq(c.threadKey,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5038694312853675"}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql",["RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtwebCallBlockedSettingSubscribeResponsePayload",kind:"LinkedField",name:"rtweb_call_blocked_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c},params:{id:b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"rtweb_call_blocked_setting_subscribe"},name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometMenuItemSelectable_DEPRECATED.react",["ix","CometIcon.react","CometMenuItemBase.react","CometMenuItemIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){return!a?null:j.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("477820"),20)})}k.displayName=k.name+" [from "+f.id+"]";function a(a,b){a.aux;var d=a.disabled,e=a.icon,f=a.iconColor,g=a.iconStyle,h=a.isSelected,i=babelHelpers.objectWithoutPropertiesLoose(a,["aux","disabled","icon","iconColor","iconStyle","isSelected"]);if(e)return j.jsx(c("CometMenuItemBase.react"),babelHelpers["extends"]({},i,{"aria-checked":h,aux:a.aux!=null?a.aux(h,d):k(h),disabled:d,iconNode:j.jsx(c("CometMenuItemIcon.react"),{icon:e,iconColor:f,use:g}),ref:b}));else{e=a.aux!=null?a.aux(h,d):k(h);return j.jsx(c("CometMenuItemBase.react"),babelHelpers["extends"]({},i,{"aria-checked":h,aux:e?j.jsx("div",{className:"xz62fqu x16ldp7u",children:e}):void 0,disabled:d,ref:b}))}}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("CometTabMenu.react",["CometMenu.react","CometMenuItemSelectable_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.menuItems,d=a.menuSize;a=a.truncate;return i.jsx(c("CometMenu.react"),{size:d,truncate:a,children:b.map(function(a,b){var d=a["aria-label"],e=a.badge,f=a.disabled,g=a.icon,h=a.label,j=a.linkProps,k=a.onHoverIn,l=a.onHoverOut,m=a.onPress,n=a.onPressIn,o=a.selected;a=a.tabRef;return i.jsx(c("CometMenuItemSelectable_DEPRECATED.react"),{"aria-label":d,badge:e,disabled:f,href:(d=j==null?void 0:j.url)!=null?d:void 0,icon:g,isSelected:(e=o)!=null?e:!1,onClick:m,onHoverIn:k,onHoverOut:l,onPressIn:n,primaryText:h,ref:a,role:"menuitemradio",routeTarget:j==null?void 0:j.routeTarget,target:j==null?void 0:j.target,testid:void 0},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSDialogContainerLegacy.react",["BaseDialog.react","MDSDialogSizes","emptyFunction","gkx","react","useIsCometOnMobile"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={anchor:{paddingTop:"x1x97wu9",paddingBottom:"xbr3nou",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0","@media (max-width: 564px)_paddingStart":"x3v4vwv","@media (max-width: 564px)_paddingEnd":"x1dzdb2q",$$css:!0},anchorInMobileEnvironment:{paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},card:{backgroundColor:"x1jx94hy",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",boxShadow:"x104qc98","@media (max-width: 564px)_borderTopStartRadius":"x1g2kw80","@media (max-width: 564px)_borderTopEndRadius":"x16n5opg","@media (max-width: 564px)_borderBottomEndRadius":"xl7ujzl","@media (max-width: 564px)_borderBottomStartRadius":"xhkep3z",$$css:!0},metaMessengerCard:{borderTopStartRadius:"x1tqc3b3",borderTopEndRadius:"xm0bgfj",borderBottomEndRadius:"x1puc96a",borderBottomStartRadius:"x1dw44z3",boxShadow:"xyf08i8",$$css:!0},rootInMobileEnvironment:{justifyContent:"x1nhvcw1",$$css:!0}},k=c("gkx")("386");function a(a,b){var e=a.anchorXStyle,f=a.children,g=a.disableClosingWithMask;g=g===void 0?!1:g;var h=a.labelledBy,l=a.onClose;l=l===void 0?c("emptyFunction"):l;var m=a.size;m=m===void 0?"small":m;var n=a.testid;n=a.title;a=a.xstyle;var o=c("useIsCometOnMobile")();m=m==="content-mobile-safe"&&!o?"content":m;return i.jsx(c("BaseDialog.react"),{anchorXStyle:[j.anchor,o&&j.anchorInMobileEnvironment,e],"aria-label":h!=null?void 0:(e=n)!=null?e:void 0,"aria-labelledby":h,disableClosingWithMask:g,onClose:l,ref:b,rootXStyle:o&&j.rootInMobileEnvironment,testid:void 0,withDeprecatedStyles:!0,xstyle:[j.card,k&&j.metaMessengerCard,d("MDSDialogSizes").sizeStyles[m],a],children:f})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MDSDialogFooter.react",["MDSButton.react","MDSButtonGroup.react","MDSSpinner.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={buttonContainer:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",$$css:!0}};function a(a){var b=a.callToActionGroupDirection;b=b===void 0?"forward":b;var e=a.callToActionGroupWrap;e=e===void 0?"none":e;var f=a.primaryCallToAction;a=a.secondaryCallToAction;var g=null;if(f!=null&&a!=null){var h=f.disabled,k=f.loading,l=babelHelpers.objectWithoutPropertiesLoose(f,["disabled","loading"]);g=i.jsx(c("MDSButtonGroup.react"),{direction:b,expanding:!0,paddingHorizontal:0,paddingTop:0,primary:babelHelpers["extends"]({addOnStart:k===!0?i.jsx(c("MDSSpinner.react"),{color:"grey",size:24}):void 0,disabled:h===!0||k,type:"primary"},l),secondary:a,size:36,wrap:e})}else if(f!=null){b=f.disabled;h=f.loading;k=babelHelpers.objectWithoutPropertiesLoose(f,["disabled","loading"]);g=i.jsx(c("MDSButton.react"),babelHelpers["extends"]({addOnStart:h===!0?i.jsx(c("MDSSpinner.react"),{color:"grey",size:24}):void 0,disabled:b===!0||h,size:36,type:"primary"},k))}else a!=null&&(g=i.jsx(c("MDSButton.react"),babelHelpers["extends"]({size:36,type:"secondary"},a)));return g!=null?i.jsx(d("react-strict-dom").html.div,{style:j.buttonContainer,children:g}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSDialogPageLegacy.react",["MDSDialogFooter.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={content:{paddingBottom:"xwib8y2",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},textOnlyContent:{textAlign:"x2b8uid",$$css:!0}};function a(a,b){var e=a.children,f=a.hasTextOnlyContent;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTextOnlyContent"]);return i.jsxs(d("react-strict-dom").html.div,{ref:b,children:[i.jsx(d("react-strict-dom").html.div,{style:[j.content,f===!0&&j.textOnlyContent],children:e}),i.jsx(c("MDSDialogFooter.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MDSCardedDialog.react",["BaseHeadingContextWrapper.react","MDSDialogContainerLegacy.react","MDSDialogHeader.react","MDSDialogPageLegacy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a,b){var d=a.callToActionGroupWrap;d=d===void 0?"none":d;var e=a.children,f=a.closeButtonType,g=a.onClose;g=g===void 0?function(){}:g;var h=a.header,k=a.title,l=a.titleHorizontalAlignment;l=l===void 0?"center":l;var m=a.withBackButton;m=m===void 0?!1:m;var n=a.onBack,o=a.backButtonType,p=a.withCloseButton;p=p===void 0?!1:p;var q=a.primaryCallToAction,r=a.secondaryCallToAction,s=a.callToActionGroupDirection;s=s===void 0?"forward":s;var t=a.closeButtonTestId;t=t===void 0?"close_button":t;var u=a.hasTextOnlyContent,v=a.labelledBy;a=babelHelpers.objectWithoutPropertiesLoose(a,["callToActionGroupWrap","children","closeButtonType","onClose","header","title","titleHorizontalAlignment","withBackButton","onBack","backButtonType","withCloseButton","primaryCallToAction","secondaryCallToAction","callToActionGroupDirection","closeButtonTestId","hasTextOnlyContent","labelledBy"]);var w=j();w=k==null?w:void 0;return i.jsxs(c("MDSDialogContainerLegacy.react"),babelHelpers["extends"]({labelledBy:(v=v)!=null?v:w,onClose:g,ref:b,title:k},a,{children:[h!=null?h:null,i.jsxs(c("BaseHeadingContextWrapper.react"),{children:[i.jsx(c("MDSDialogHeader.react"),{backButtonType:o,closeButtonTestId:t,closeButtonType:f,id:w,onBack:n,onClose:g,title:h==null?k:null,titleHorizontalAlignment:l,withBackButton:m,withCloseButton:p}),i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx(c("MDSDialogPageLegacy.react"),{callToActionGroupDirection:s,callToActionGroupWrap:d,hasTextOnlyContent:u,primaryCallToAction:q,secondaryCallToAction:r,children:e})})]})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MDSControlledUserBlockingDialog.react",["BaseModal.react","CometPlaceholder.react","MDSCardedDialog.react","MDSCardedDialogLoadingState.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.disableClosingWithMask,e=a.labelledBy,f=a.onDismiss;f=f===void 0?c("emptyFunction"):f;var g=a.title,h=a.withCloseButton,j=a.size;j=j===void 0?"small":j;var k=a.titleHorizontalAlignment,l=a.primaryCallToAction,m=a.secondaryCallToAction;a=a.callToActionGroupDirection;return i.jsx(c("BaseModal.react"),{blockKeyCommands:!0,stackingBehavior:"above-everything",children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MDSCardedDialogLoadingState.react"),{onClose:f}),children:i.jsx(c("MDSCardedDialog.react"),{callToActionGroupDirection:a,disableClosingWithMask:d,labelledBy:e,onClose:f,primaryCallToAction:l,secondaryCallToAction:m,size:j,title:g,titleHorizontalAlignment:k,withCloseButton:h,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","messenger_web_product");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock";function l(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),l=d("LSPlatformLockState").LockState.Waiting,m=c("emptyFunction"),n,o=c("gkx")("3890")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,p=function(){n!=null&&c("clearTimeout")(n);if(l===d("LSPlatformLockState").LockState.Canceled||l===d("LSPlatformLockState").LockState.Acquired)return;n=c("setTimeout")(function(){e()&&l!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),o==null?void 0:o.postMessage(k))},3e4)};function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),l=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return r.apply(this,arguments)}function s(){l=d("LSPlatformLockState").LockState.Cleaning,m=c("emptyFunction"),g.forEach(function(a){return a()})}function t(){var b=new AbortController(),f=d("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to "+e.name),c("FBLogger")("messenger_web_product").info("SyncLock aborted due to %s",e.name),m(),b.abort(),l=d("LSPlatformLockState").LockState.Canceled,o==null?void 0:o.removeEventListener("message",g),a.removeEventListener("focus",p),f()}),g=function a(g){if(g==null||g.data==null||g.data!==k||e())return;i.debug("got message from other tab to abort request to sync lock");m();b.abort();f();o==null?void 0:o.removeEventListener("message",a);l=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(u())};o==null?void 0:o.addEventListener("message",g);return b}function u(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(e){l=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}i.debug("Attempted to acquire sync lock and suceeded");yield q();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(h||(h=b("Promise")))(function(a){m=function(){i.debug("Releasing sync lock"),s(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=t();l!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield q();return new(h||(h=b("Promise")))(function(a){m=function(){i.debug("Releasing sync lock"),s(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}))}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","messenger_web_product")}});return v.apply(this,arguments)}o!=null&&(a.addEventListener("focus",p),p());d("Run").onBeforeUnload(function(){m()},!1);return{_getStateInternal:function(){return l},hasLock:function(){return l===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){m()},requestLock:u}}var m=null;function a(){m==null&&(m=l());return m}function e(){m!=null&&m.release()}g.init=l;g.use=a;g.releaseIfExist=e}),98);
__d("ReStoreDbVersionChange",["ClientConsistencyEventEmitter","CurrentUser","LSPlatformSyncLock"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e=h;b=a.call(this,e)||this;b.message=e;b.name=i;d("LSPlatformSyncLock").releaseIfExist();switch(c("CurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","pdb_mismatch");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","pdb_mismatch")}return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("MAWEBFrontendQPLLogger",["QPLUserFlow","Random","gkx","hashString","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521478596,"1329"),{instanceKey:a});return a}function b(a){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"processing_threads_from_occamadillo",{instanceKey:a})}function d(a,b){if(a==null)return;b===!0?c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"backup_restore_completed_success",{instanceKey:a}):c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"backup_restore_completed_failed",{instanceKey:a})}function e(a,b,d){if(a==null)return;if(b===!0)c("QPLUserFlow").endSuccess(c("qpl")._(521478596,"1329"),{instanceKey:a});else{d=(b=d)!=null?b:"dyi_e2e_failed_unspecifed_reason";c("QPLUserFlow").endFailure(c("qpl")._(521478596,"1329"),d,{instanceKey:a})}}function f(a,b,d){if(c("gkx")("497")!==!0||a==null)return;a=c("hashString")(a);c("QPLUserFlow").addPoint(c("qpl")._(521485625,"1876"),b,{data:d,instanceKey:a})}function h(a,b,d){if(c("gkx")("497")!==!0||a==null)return;a=c("hashString")(a);c("QPLUserFlow").addPoint(c("qpl")._(521485625,"1876"),b,{data:d,instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(521485625,"1876"),{annotations:d,instanceKey:a})}function i(a,b,d){if(c("gkx")("497")!==!0||a==null)return;a=c("hashString")(a);if(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485625,"1876"),{instanceKey:a});return}c("QPLUserFlow").endFailure(c("qpl")._(521485625,"1876"),(b=d)!=null?b:"upload_message_backup_failed",{instanceKey:a})}g.startDyiQplE2EUserFlow=a;g.logDyiE2EProcessThreadsFromOccamadillo=b;g.logDyiE2EDyiBackupRestoreCompleted=d;g.endDyiE2ECompleted=e;g.addPointUploadMessageBackup=f;g.addPointAndEndFlowUploadMessageBackup=h;g.endFlowUploadMessageBackup=i}),98);
__d("MAWEncryptedBackupUtils",["I64","LSAuthorityLevel","LSDataTraceCheckPoint","LSIntEnum","MAWEBFrontendQPLLogger","MAWTraceUtils","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,e,f){d("MAWTraceUtils").recordCheckpointForTrace(a,b,c,e,f)}function a(a,e){d("MAWEBFrontendQPLLogger").addPointUploadMessageBackup(e,"get_backup_tenancy");k(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_GET_BACKUP_TENANCY),[],!1);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("secure_encrypted_backups_client_state"))).then(function(a){if(a==null)return(h||(h=b("Promise"))).resolve();var e=a.backupTenancy;a=a.authorityLevel;if(e!=null&&(i||(i=d("I64"))).equal((j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),a))return e})}g.getBackupTenancy=a}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActOnMiThreadReadyForChatId","MWChatStateActions","MWChatStateV2Types","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e,f){c("promiseDone")((k||(k=c("LSDatabaseSingleton"))).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var g=(yield d("MAWCreateOneToOneThread").call(c,(i||(i=d("I64"))).of_string(a)));yield c.runInTransaction(function(a){return d("MAWMiActOnMiThreadReadyForChatId").onMiThreadReadyForChatId(a,g.chatId,"MAWChatOpenTabForUser",function(a,c){f(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!e},{threadKeyDescriptor:{clientThreadKey:c,threadKey:c,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15)},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}));return(h||(h=b("Promise"))).resolve()})},"readonly")});return function(a){return c.apply(this,arguments)}}()))}g.openChatTab=a}),98);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}function b(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,thread_fbid:a?null:b}})}function e(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}g.logOpenUserTab=a;g.logOpenGroupTab=b;g.logOpenPageTab=e}),98);
__d("MWChatOpenSecureTabForUserCallback.bs",["cr:312"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){if(b("cr:312")!=null)return b("cr:312").openChatTab(a,c,d)}g.openChatTab=a}),98);
__d("MWLSPreloadThreadForContact.bs",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExists","MAWVerifyThreadCutover","Promise","ReQL","ReStoreDbClosedError","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){var e=(k||(k=c("LSDatabaseSingleton"))).then(function(e){return e.runInTransaction(function(f){var g=(j||(j=d("I64"))).of_string(a);return d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(e),g).then(function(a){if(a)return;else return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("messages_ranges_v2__generated")).getKeyRange(g)).then(function(a){if(a!=null)if(a.minMessageId===a.maxMessageId&&a.minMessageId!=="")return c("LSIssueMessagesRangeQuery")(g,a.minTimestampMs,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(f));else return;else return c("LSVerifyThreadRowExists")(g,void 0,(i||(i=d("LSIntEnum"))).ofNumber(1),c("LSFactory")(f))})})},"readwrite")["catch"](function(a){if(a instanceof c("ReStoreDbClosedError"))c("FBLogger")("messenger_web_product").info("Failed to preload thread, db closed.");else throw a})});c("promiseDone")(e)}function a(){return l}g.verifyThreadExists=l;g.usePreloaderForUser=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=j||d("react");var l=e.useContext,m=e.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(i||(i=b("Promise"))).resolve(a):h||(h=c("LSDatabaseSingleton"))},[a])}g["default"]=a}),98);
__d("MAWChatVerifyCutover.react",["I64","ReQL","promiseDone","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h||(h=d("react"));var j=h.useEffect;function a(a){var b=a.id,e=a.updateThreadKey,f=c("useAsyncReStore")();j(function(){var a=f.then(function(a){return d("ReQL").leftJoin(d("ReQL").fromTableDescending(a.table("cutover_threads")).getKeyRange((i||(i=d("I64"))).of_string(b)),d("ReQL").fromTableDescending(a.table("mi_act_mapping_table"))).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value[1];a!=null&&e((i||(i=d("I64"))).to_string(a.serverThreadKey))})});return function(){c("promiseDone")(a.then(function(a){a()}))}},[b,e]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessageBothOrientationFocusGroup.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);e=b[0];d=b[1];b={key:c("CometKeys").UP};var k={key:c("CometKeys").DOWN},l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n=[{command:b,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:l,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:m,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];function a(a){a=a.children;return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.FocusGroup=e;g.FocusGroupItem=d;g.keyCommands=b}),98);
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return h||(h=c("LSDatabaseSingleton"))}g["default"]=a}),98);
__d("LSPlatformLogout",["LSCookie","LSDatabaseSingleton","Promise","QPLUserFlow","asyncToGeneratorRuntime","cr:5773","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function l(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!b("cr:5773"))return;c("QPLUserFlow").start(c("qpl")._(25311266,"236"),{cancelOnUnload:!0,timeoutInMs:3e3});try{yield (i||(i=b("Promise"))).all([b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h||(h=c("LSDatabaseSingleton")));b("cr:5773").deleteDB("logout",a)})(),d("LSCookie").deleteCookie()])}catch(a){c("QPLUserFlow").endFailure(c("qpl")._(25311266,"236"),"fail");return}c("QPLUserFlow").endSuccess(c("qpl")._(25311266,"236"))});return m.apply(this,arguments)}function a(){return k(l,[])}g.logout=l;g.useLogout=a}),98);
__d("MlsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1401");b=d("FalcoLoggerInternal").create("mls_message_action",a);e=b;g["default"]=e}),98);
__d("MWLogMessageAction",["I64","MWLSContactTypeExactUtils","MlsMessageActionFalcoEvent","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j,k,l){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,j,k,l,m,n){var o,p=(yield (o=d("ReQL")).firstAsync(o.fromTableAscending(a.table("threads")).getKeyRange(e))),q=(yield o.toArrayAsync(o.fromTableAscending(a.table("participants")).getKeyRange(e))),r=(yield o.firstAsync(o.mergeJoin(o.fromTableAscending(a.table("participants")).getKeyRange(e),o.fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1].contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)})))!=null;p!=null&&c("MlsMessageActionFalcoEvent").log(function(){var a;return{action:g,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,device_screen_height:window.screen.height,device_screen_width:window.screen.width,error_text:j,extra:i,group_size:String(q.length),is_xac_thread:r,ls_thread_type:(h||(h=d("I64"))).to_int32(p.threadType),message_type:(a=m)!=null?a:"text",mid:b,reaction:k,recipient_id:l!=null?(h||(h=d("I64"))).to_string(l):void 0,sender_id:h.to_string(n),source:f,thread_id:h.to_string(e)}})});return i.apply(this,arguments)}g.log=a}),98);
__d("RTWebCallBlockedSettingSubscription",["CometRelay","RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{onNext:c,subscription:i,variables:{input:b}})}g.subscribe=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var e=a.getTextContent(),f=a,g=0;d("EmojiRenderer").parse(e).forEach(function(e){var h=e.emoji,i=e.length;e=e.offset;var j=h.join("");h=c("FBEmojiResource").fromCodepoints(h);if(h==null)return;h=h.getImageURL(b);if(h==null)return;var k=j;j=d("CometLexicalEmojiNode").$createEmojiNode(j,k,h,b);k=e-g;h=k+i;if(k===0){e=f.splitText(h);a=e[0];f=e[1]}else{i=f.splitText(k,h);a=i[1];f=i[2]}g+=h;a.replace(j);j})});return function(){e()}}g["default"]=a}),98);
__d("RTWebSignalingListener",["FBLogger","ZenonMWMessageDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","cr:6077","cr:6812","cr:6818","cr:6829","getZenonMqttChannel","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=c("getZenonMqttChannel")()}var e=a.prototype;e.subscribe=function(a,e,f){var g=this;this.$1.subscribe("/rtc_multi",function(b){try{var f=JSON.parse(b);d("ZenonMWMessageReliabilityLogger").logReceivedMessage(f);c("ZenonMWMessageDebugLogger").logMWMessage("RECEIVED","MQTT",f);var h=d("ZenonMWMessageTranslator").toSignalingMessage(f);a(h);e&&g.$2(b,e);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(f)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving MQTT message from /rtc_multi topic")}});b("cr:6812")&&b("cr:6829")&&this.$1.subscribeBinary("/t_rtc_multi",function(d){try{var e=b("cr:6829").deserializeMWThriftMessage(d);b("cr:6818")==null?void 0:b("cr:6818").logMWThriftMessage("RECEIVED","MQTT Thrift",e);b("cr:6077")==null?void 0:b("cr:6077").logReceivedMessage(e);var h=b("cr:6812").toSignalingMessage(e);a(h);f&&g.$3(d,f);b("cr:6077")&&b("cr:6077").logProcessingMessage(e)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving binary MQTT message from /t_rtc_multi topic")}})};e.unsubscribe=function(){this.$1.unsubscribeAll("/rtc_multi"),b("cr:6812")&&this.$1.unsubscribeAll("/t_rtc_multi")};e.$2=function(a,b){try{a=JSON.parse(a);b(a)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};e.$3=function(a,d){try{if(b("cr:6829")){a=b("cr:6829").deserializeMWThriftMessage(a);d(a)}}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();g["default"]=a}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);
__d("LSEncryptedBackupsBackupTenancy",[],(function(a,b,c,d,e,f){a=Object.freeze({PRODUCTION:1,SHADOW:2,OPEN:3});f["default"]=a}),66);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted LSDB was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);